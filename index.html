<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quran Words with Surah and Ayah</title>
  <style>
    body {
      font-family: 'Tahoma', 'Arial', sans-serif;
      background-color: #f4f4f9;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #333;
    }
    .verse-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
      padding: 20px;
    }
    .verse-item {
      background-color: #4CAF50;
      color: white;
      padding: 10px;
      border-radius: 5px;
      font-size: 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    .english-translation {
      background-color: #007bff;
      color: white;
      font-size: 16px;
      padding: 5px;
      border-radius: 5px;
      margin-top: 5px;
    }
    .verse-header {
      font-weight: bold;
      font-size: 18px;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>Quranic Verses</h1>
  <div id="verseContainer" class="verse-container"></div>

  <script>
    async function loadQuranData() {
      try {
        // Fetch the words data (indopak-qurancom.json)
        const wordsResponse = await fetch('https://raw.githubusercontent.com/itzfew/Qurank/refs/heads/main/source/indopak-qurancom.json');
        const wordsData = await wordsResponse.json();

        // Fetch the verse metadata (word.json)
        const metadataResponse = await fetch('https://raw.githubusercontent.com/itzfew/Qurank/refs/heads/main/source/word.json');
        const metadataData = await metadataResponse.json();

        // Get the container to display the verses
        const container = document.getElementById('verseContainer');

        // Combine the word data with the verse metadata
        const verses = {};

        // Loop through each word data and organize them into verses
        for (const key in wordsData) {
          if (wordsData.hasOwnProperty(key) && metadataData.hasOwnProperty(key)) {
            const word = wordsData[key];
            const metadata = metadataData[key];

            // Get Surah and Ayah
            const surah = metadata.surah;
            const ayah = metadata.ayah;
            const position = metadata.position;

            // Initialize verse if not already created
            const verseKey = `${surah}:${ayah}`;
            if (!verses[verseKey]) {
              verses[verseKey] = {
                surah: surah,
                ayah: ayah,
                words: [],
                englishTranslation: "" // We will add translation later
              };
            }

            // Add the word to the verse's words array
            verses[verseKey].words[position] = word;  // This maintains the order of words
          }
        }

        // Now that we have organized the words in verses, let's display them
        for (const verseKey in verses) {
          const verse = verses[verseKey];
          const verseElement = document.createElement('div');
          verseElement.classList.add('verse-item');
          
          // Verse Header (Surah and Ayah)
          const verseHeader = document.createElement('div');
          verseHeader.classList.add('verse-header');
          verseHeader.textContent = `Surah ${verse.surah}, Ayah ${verse.ayah}`;
          verseElement.appendChild(verseHeader);

          // Combine the words and display the verse
          const verseWords = verse.words.join(" ");  // Join words with a space
          const verseText = document.createElement('div');
          verseText.textContent = verseWords;
          verseElement.appendChild(verseText);

          // Optional: Add English translation (can fetch from another JSON if needed)
          const englishTranslation = document.createElement('div');
          englishTranslation.classList.add('english-translation');
          englishTranslation.textContent = "Your English Translation here";  // You can replace this with actual translation data
          verseElement.appendChild(englishTranslation);

          // Append the verse item to the container
          container.appendChild(verseElement);
        }

      } catch (error) {
        console.error('Error fetching the data:', error);
      }
    }

    // Load Quran data when the page is ready
    loadQuranData();
  </script>
</body>
</html>
